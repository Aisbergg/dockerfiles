---

# Load Dynamic Nginx Modules
NGINX_LOAD_NGX_HTTP_HEADERS_MORE_FILTER_MODULE: true

defaults:
  ######################################
  ## Nginx
  ######################################
  NGINX_PROXY_READ_TIMEOUT: 120
  NGINX_MAX_UPLOAD_FILESIZE: 256M
  NGINX_REWRITE_HTTPS: true

  ######################################
  ## Gitea
  ######################################
  GITEA_APP_NAME: "Gitea: Git with a cup of tea"
  GITEA_RUN_MODE:
    type: choice
    default: prod
    choices:
      - "dev"
      - "prod"
      - "test"

  # repository
  GITEA_REPOSITORY_FORCE_PRIVATE: false
  GITEA_REPOSITORY_DEFAULT_PRIVATE: "last"
  GITEA_REPOSITORY_MAX_CREATION_LIMIT: -1
  GITEA_REPOSITORY_MIRROR_QUEUE_LENGTH: 1000
  GITEA_REPOSITORY_PULL_REQUEST_QUEUE_LENGTH: 1000
  GITEA_REPOSITORY_PREFERRED_LICENSES: "Apache License 2.0,MIT License"
  GITEA_REPOSITORY_DISABLE_HTTP_GIT: false
  GITEA_REPOSITORY_USE_COMPAT_SSH_URI: false

  # repository.editor
  GITEA_REPOSITORY_EDITOR_LINE_WRAP_EXTENSIONS: ".txt,.md,.markdown,.mdown,.mkd,"
  GITEA_REPOSITORY_EDITOR_PREVIEWABLE_FILE_MODES: "markdown"

  # repository.upload
  GITEA_REPOSITORY_UPLOAD_ENABLED: true
  GITEA_REPOSITORY_UPLOAD_ALLOWED_TYPES: ""
  GITEA_REPOSITORY_UPLOAD_FILE_MAX_SIZE: 10
  GITEA_REPOSITORY_UPLOAD_MAX_FILES: 5

  # repository.pull-request
  GITEA_REPOSITORY_PULL_REQUEST_WORK_IN_PROGRESS_PREFIXES: "WIP:,[WIP]"

  # ui
  GITEA_UI_EXPLORE_PAGING_NUM: 20
  GITEA_UI_ISSUE_PAGING_NUM: 10
  GITEA_UI_FEED_MAX_COMMIT_NUM: 5
  GITEA_UI_GRAPH_MAX_COMMIT_NUM: 100
  GITEA_UI_CODE_COMMENT_LINES: 4
  GITEA_UI_THEME_COLOR_META_TAG: "#6cc644"
  GITEA_UI_MAX_DISPLAY_FILE_SIZE: 8388608
  GITEA_UI_SHOW_USER_EMAIL: true
  GITEA_UI_DEFAULT_THEME: gitea

  # ui.admin
  GITEA_UI_ADMIN_USER_PAGING_NUM: 50
  GITEA_UI_ADMIN_REPO_PAGING_NUM: 50
  GITEA_UI_ADMIN_NOTICE_PAGING_NUM: 25
  GITEA_UI_ADMIN_ORG_PAGING_NUM: 50

  # ui.user
  GITEA_UI_USER_REPO_PAGING_NUM: 15

  # ui.meta
  GITEA_UI_META_AUTHOR: "Gitea - Git with a cup of tea"
  GITEA_UI_META_DESCRIPTION: "Gitea (Git with a cup of tea) is a painless self-hosted Git service written in Go"
  GITEA_UI_META_KEYWORDS: "go,git,self-hosted,gitea"

  # markdown
  GITEA_MARKDOWN_ENABLE_HARD_LINE_BREAK: false
  GITEA_MARKDOWN_CUSTOM_URL_SCHEMES: ""
  GITEA_MARKDOWN_FILE_EXTENSIONS: ".md,.markdown,.mdown,.mkd"

  # server
  GITEA_SERVER_DISABLE_SSH: false
  GITEA_SERVER_SSH_PORT: 22
  GITEA_SERVER_OFFLINE_MODE: false
  GITEA_SERVER_DISABLE_ROUTER_LOG: false
  GITEA_SERVER_ENABLE_GZIP: false
  GITEA_SERVER_ENABLE_PPROF: false
  GITEA_SERVER_PPROF_DATA_PATH: "data/tmp/pprof"
  GITEA_SERVER_LANDING_PAGE:
    type: choice
    default: home
    choices:
      - "explore"
      - "home"
      - "organizations"
  GITEA_SERVER_LFS_START_SERVER: false
  GITEA_SERVER_LFS_HTTP_AUTH_EXPIRY: 20m

  # database
  GITEA_DATABASE_SQLITE_TIMEOUT: 500
  GITEA_DATABASE_TYPE:
    type: choice
    default: sqlite3
    choices:
      - "mssql"
      - "mysql"
      - "postgres"
      - "sqlite3"
  GITEA_DATABASE_HOST: "mysql:3306"
  GITEA_DATABASE_NAME: "gitea"
  GITEA_DATABASE_USER: "gitea"
  GITEA_DATABASE_PASSWORD: ""
  GITEA_DATABASE_MYSQL_SSL_MODE:
    type: choice
    default: false
    choices:
      - "false"
      - "true"
      - "skip-verify"
  GITEA_DATABASE_PGSQL_SSL_MODE:
    type: choice
    default: disable
    choices:
      - "disable"
      - "require"
      - "verify-full"
  GITEA_DATABASE_ITERATE_BUFFER_SIZE: 50
  GITEA_DATABASE_LOG_SQL: false

  # indexer
  GITEA_INDEXER_REPO_INDEXER_ENABLED: false
  GITEA_INDEXER_UPDATE_BUFFER_LEN: 20
  GITEA_INDEXER_MAX_FILE_SIZE: 1048576

  # admin
  GITEA_ADMIN_DISABLE_REGULAR_ORG_CREATION: false

  # security
  GITEA_SECURITY_LOGIN_REMEMBER_DAYS: 7
  GITEA_SECURITY_COOKIE_USERNAME: "gitea_awesome"
  GITEA_SECURITY_COOKIE_REMEMBER_NAME: "gitea_incredible"
  GITEA_SECURITY_REVERSE_PROXY_AUTHENTICATION_USER: "X-WEBAUTH-USER"
  GITEA_SECURITY_MIN_PASSWORD_LENGTH: 6
  GITEA_SECURITY_IMPORT_LOCAL_PATHS: false
  GITEA_SECURITY_DISABLE_GIT_HOOKS: false

  # openid
  GITEA_OPENID_ENABLE_OPENID_SIGNIN: false
  GITEA_OPENID_WHITELISTED_URIS: ""
  GITEA_OPENID_BLACKLISTED_URIS: ""

  # service
  GITEA_SERVICE_ACTIVE_CODE_LIVE_MINUTES: 180
  GITEA_SERVICE_RESET_PASSWD_CODE_LIVE_MINUTES: 180
  GITEA_SERVICE_REGISTER_EMAIL_CONFIRM: true
  GITEA_SERVICE_DISABLE_REGISTRATION: false
  GITEA_SERVICE_ALLOW_ONLY_EXTERNAL_REGISTRATION: false
  GITEA_SERVICE_REQUIRE_SIGNIN_VIEW: false
  GITEA_SERVICE_ENABLE_NOTIFY_MAIL: false
  GITEA_SERVICE_ENABLE_REVERSE_PROXY_AUTHENTICATION: false
  GITEA_SERVICE_ENABLE_REVERSE_PROXY_AUTO_REGISTRATION: false
  GITEA_SERVICE_ENABLE_CAPTCHA: true
  GITEA_SERVICE_CAPTCHA_TYPE:
    type: choice
    default: image
    choices:
      - "image"
      - "recaptcha"
  GITEA_SERVICE_RECAPTCHA_SECRET: ""
  GITEA_SERVICE_RECAPTCHA_SITEKEY: ""
  GITEA_SERVICE_DEFAULT_KEEP_EMAIL_PRIVATE: false
  GITEA_SERVICE_DEFAULT_ALLOW_CREATE_ORGANIZATION: true
  GITEA_SERVICE_DEFAULT_ENABLE_DEPENDENCIES: true
  GITEA_SERVICE_ENABLE_TIMETRACKING: true
  GITEA_SERVICE_DEFAULT_ENABLE_TIMETRACKING: true
  GITEA_SERVICE_DEFAULT_ALLOW_ONLY_CONTRIBUTORS_TO_TRACK_TIME: true
  GITEA_SERVICE_NO_REPLY_ADDRESS: "noreply.example.org"

  # webhook
  GITEA_WEBHOOK_QUEUE_LENGTH: 1000
  GITEA_WEBHOOK_DELIVER_TIMEOUT: 5
  GITEA_WEBHOOK_SKIP_TLS_VERIFY: false
  GITEA_WEBHOOK_PAGING_NUM: 10

  # mailer
  GITEA_MAILER_ENABLED: false
  GITEA_MAILER_SEND_BUFFER_LEN: 100
  GITEA_MAILER_SUBJECT: "%(APP_NAME)s"
  GITEA_MAILER_HOST:  ""
  GITEA_MAILER_DISABLE_HELO: false
  GITEA_MAILER_HELO_HOSTNAME: ""
  GITEA_MAILER_SKIP_VERIFY: false
  GITEA_MAILER_USE_CERTIFICATE: false
  GITEA_MAILER_CERT_FILE: "custom/mailer/cert.pem"
  GITEA_MAILER_KEY_FILE: "custom/mailer/key.pem"
  GITEA_MAILER_FROM: ""
  GITEA_MAILER_USER: ""
  GITEA_MAILER_PASSWD: ""
  GITEA_MAILER_SEND_AS_PLAIN_TEXT: false

  # cache
  GITEA_CACHE_ADAPTER:
    type: choice
    default: memory
    choices:
      - "memcache"
      - "memory"
      - "redis"
  GITEA_CACHE_INTERVAL: 60
  GITEA_CACHE_HOST: ""
  GITEA_CACHE_ITEM_TTL: 16h

  # session
  GITEA_SESSION_PROVIDER:
    type: choice
    default: memory
    choices:
      - "file"
      - "memory"
      - "redis"
  GITEA_SESSION_PROVIDER_CONFIG: ""
  GITEA_SESSION_COOKIE_NAME: "i_like_gitea"
  GITEA_SESSION_COOKIE_SECURE: false
  GITEA_SESSION_ENABLE_SET_COOKIE: true
  GITEA_SESSION_GC_INTERVAL_TIME: 86400
  GITEA_SESSION_SESSION_LIFE_TIME: 86400

  # picture
  GITEA_PICTURE_AVATAR_MAX_WIDTH: 4096
  GITEA_PICTURE_AVATAR_MAX_HEIGHT: 3072
  GITEA_PICTURE_GRAVATAR_SOURCE: "gravatar"
  GITEA_PICTURE_DISABLE_GRAVATAR: false
  GITEA_PICTURE_ENABLE_FEDERATED_AVATAR: false

  # attachment
  GITEA_ATTACHMENT_ENABLED: true
  GITEA_ATTACHMENT_ALLOWED_TYPES: "image/jpeg|image/png|application/zip|application/gzip"
  GITEA_ATTACHMENT_MAX_SIZE: 4
  GITEA_ATTACHMENT_MAX_FILES: 5

  # time
  GITEA_TIME_FORMAT: ""

  # log
  GITEA_LOG_MODE:
    type: choice
    default: console
    choices:
      - "conn"
      - "console"
      - "database"
      - "file"
      - "smtp"
  GITEA_LOG_BUFFER_LEN: 10000
  GITEA_LOG_LEVEL:
    type: choice
    default: Info
    choices:
      - "Trace"
      - "Debug"
      - "Info"
      - "Warn"
      - "Error"
      - "Critical"

  # log.file
  GITEA_LOG_FILE_LOG_ROTATE: true
  GITEA_LOG_FILE_MAX_LINES: 1000000
  GITEA_LOG_FILE_MAX_SIZE_SHIFT: 28
  GITEA_LOG_FILE_DAILY_ROTATE: true
  GITEA_LOG_FILE_MAX_DAYS: 7

  # log.conn
  GITEA_LOG_CONN_RECONNECT_ON_MSG: false
  GITEA_LOG_CONN_RECONNECT: false
  GITEA_LOG_CONN_PROTOCOL:
    type: choice
    default: tcp
    choices:
      - "unix"
      - "udp"
      - "tcp"
  GITEA_LOG_CONN_ADDR: ""

  # log.smtp
  GITEA_LOG_SMTP_SUBJECT: "Diagnostic message from server"
  GITEA_LOG_SMTP_HOST: ""
  GITEA_LOG_SMTP_USER: ""
  GITEA_LOG_SMTP_PASSWD: ""
  GITEA_LOG_SMTP_RECEIVERS: ""

  # log.database
  GITEA_LOG_DATABASE_DRIVER:
    type: choice
    default: mysql
    choices:
      - "mysql"
      - "postgres"
  GITEA_LOG_DATABASE_CONN: ""

  # cron
  GITEA_CRON_ENABLED: true
  GITEA_CRON_RUN_AT_START: false

  # cron.update_mirrors
  GITEA_CRON_UPDATE_MIRRORS_SCHEDULE: "@every 10m"

  # cron.repo_health_check
  GITEA_CRON_REPO_HEALTH_CHECK_SCHEDULE: "@every 24h"
  GITEA_CRON_REPO_HEALTH_CHECK_TIMEOUT: 60s
  GITEA_CRON_REPO_HEALTH_CHECK_ARGS: ""

  # cron.check_repo_stats
  GITEA_CRON_CHECK_REPO_STATS_RUN_AT_START: true
  GITEA_CRON_CHECK_REPO_STATS_SCHEDULE: "@every 24h"

  # cron.archive_cleanup
  GITEA_CRON_ARCHIVE_CLEANUP_ENABLED: true
  GITEA_CRON_ARCHIVE_CLEANUP_RUN_AT_START: true
  GITEA_CRON_ARCHIVE_CLEANUP_SCHEDULE: "@every 24h"
  GITEA_CRON_ARCHIVE_CLEANUP_OLDER_THAN: 24h

  # cron.sync_external_users
  GITEA_CRON_SYNC_EXTERNAL_USERS_RUN_AT_START: false
  GITEA_CRON_SYNC_EXTERNAL_USERS_SCHEDULE: "@every 24h"
  GITEA_CRON_SYNC_EXTERNAL_USERS_UPDATE_EXISTING: true

  # git
  GITEA_GIT_DISABLE_DIFF_HIGHLIGHT: false
  GITEA_GIT_MAX_GIT_DIFF_LINES: 1000
  GITEA_GIT_MAX_GIT_DIFF_LINE_CHARACTERS: 5000
  GITEA_GIT_MAX_GIT_DIFF_FILES: 100
  GITEA_GIT_GC_ARGS: ""

  # git.timeout
  GITEA_GIT_TIMEOUT_MIGRATE: 600
  GITEA_GIT_TIMEOUT_MIRROR: 300
  GITEA_GIT_TIMEOUT_CLONE: 300
  GITEA_GIT_TIMEOUT_PULL: 300
  GITEA_GIT_TIMEOUT_GC: 60

  # mirror
  GITEA_MIRROR_DEFAULT_INTERVAL: 8h
  GITEA_MIRROR_MIN_INTERVAL: 10m

  # api
  GITEA_API_ENABLE_SWAGGER: true
  GITEA_API_MAX_RESPONSE_ITEMS: 50

  # U2F
  # -- currently disabled --
  #GITEA_U2F_APP_ID: "https://%(DOMAIN)s"
  #GITEA_U2F_TRUSTED_FACETS: "https://%(DOMAIN)s"

  # other
  GITEA_OTHER_SHOW_FOOTER_BRANDING: false
  GITEA_OTHER_SHOW_FOOTER_VERSION: false
  GITEA_OTHER_SHOW_FOOTER_TEMPLATE_LOAD_TIME: false

  # markup.asciidoc
  GITEA_MARKUP_ASCIIDOC_ENABLED: false
  GITEA_MARKUP_ASCIIDOC_FILE_EXTENSIONS: ".adoc,.asciidoc"
  GITEA_MARKUP_ASCIIDOC_RENDER_COMMAND: "asciidoc --out-file=- -"
  GITEA_MARKUP_ASCIIDOC_IS_INPUT_FILE: false
