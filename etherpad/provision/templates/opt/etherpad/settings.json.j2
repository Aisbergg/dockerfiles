// autogen true
// NOTE: by default this file is automatically generated on container startup.
// To disable the autogeneration simply change the first line of this file to
// 'autogen false'

{
  // Name your instance!
  "title": "{{ ETHERPAD_SITE_TITLE }}",

  // favicon default name
  // alternatively, set up a fully specified Url to your own favicon
  "favicon": "favicon.ico",

  //IP and port which etherpad should bind at
  "ip": "127.0.0.1",
  "port" : 8001,

  // Option to hide/show the settings.json in admin page, default option is set to true
  "showSettingsInAdminPage" : {{ ETHERPAD_SHOW_SETTINGS_IN_ADMIN_PAGE | lower }},

  "dbType" : "mysql",
  "dbSettings" : {
      "user"    : "{{ ETHERPAD_DATABASE_USER }}",
      "host"    : "{{ ETHERPAD_DATABASE_HOST }}",
      "password": "{{ ETHERPAD_DATABASE_PASSWORD }}",
      "database": "{{ ETHERPAD_DATABASE_NAME }}"
   },

  //the default text of a pad
  "defaultPadText" : "{{ ETHERPAD_DEFAULT_PAD_TEXT }}",

  /* Default Pad behavior, users can override by changing */
  "padOptions": {
    "noColors": {{ ETHERPAD_NO_COLORS | lower }},
    "showControls": {{ ETHERPAD_SHOW_CONTROLS | lower }},
    "showChat": {{ ETHERPAD_SHOW_CHAT | lower }},
    "showLineNumbers": {{ ETHERPAD_SHOW_LIN_ENUMBERS | lower }},
    "useMonospaceFont": {{ ETHERPAD_USE_MONOSPACE_FONT | lower }},
    "userName": {{ ETHERPAD_USER_NAME | lower }},
    "userColor": {{ ETHERPAD_USER_COLOR | lower }},
    "rtl": {{ ETHERPAD_RTL | lower }},
    "alwaysShowChat": {{ ETHERPAD_ALWAYS_SHOW_CHAT | lower }},
    "chatAndUsers": {{ ETHERPAD_CHAT_AND_USERS | lower }},
    "lang": "{{ ETHERPAD_LANGUAGE }}"
  },

  /* Shoud we suppress errors from being visible in the default Pad Text? */
  "suppressErrorsInPadText" : {{ ETHERPAD_SUPPRESS_ERRORS_IN_PAD_TEXT | lower }},

  /* Users must have a session to access pads. This effectively allows only group pads to be accessed. */
  "requireSession" : {{ ETHERPAD_REQUIRE_SESSION | lower }},

  /* Users may edit pads but not create new ones. Pad creation is only via the API. This applies both to group pads and regular pads. */
  "editOnly" : {{ ETHERPAD_EDIT_ONLY | lower }},

  /* Users, who have a valid session, automatically get granted access to password protected pads */
  "sessionNoPassword" : {{ ETHERPAD_SESSION_NO_PASSWORD | lower }},

  /* if true, all css & js will be minified before sending to the client. This will improve the loading performance massivly,
     but makes it impossible to debug the javascript/css */
  "minify" : {{ ETHERPAD_MINIFY | lower }},

  /* How long may clients use served javascript code (in seconds)? Without versioning this
     may cause problems during deployment. Set to 0 to disable caching */
  "maxAge" : {{ ETHERPAD_MAX_AGE }}, // 60 * 60 * 6 = 6 hours

  /* This is the path to the Abiword executable. Setting it to null, disables abiword.
     Abiword is needed to advanced import/export features of pads*/
  "abiword" : "/usr/bin/abiword",

  /* This is the path to the Tidy executable. Setting it to null, disables Tidy.
     Tidy is used to improve the quality of exported pads*/
  "tidyHtml" : null,

  /* Allow import of file types other than the supported types: txt, doc, docx, rtf, odt, html & htm */
  "allowUnknownFileEnds" : {{ ETHERPAD_ALLOW_UNKNOWN_FILE_ENDS | lower }},

  /* This setting is used if you require authentication of all users.
     Note: /admin always requires authentication. */
  "requireAuthentication" : {{ ETHERPAD_REQUIRE_AUTHENTICATION | lower }},

  /* Require authorization by a module, or a user with is_admin set, see below. */
  "requireAuthorization" : {{ ETHERPAD_REQUIRE_AUTHORIZATION | lower }},

  /*when you use NginX or another proxy/ load-balancer set this to true*/
  "trustProxy" : true,

  /* Privacy: disable IP logging */
  "disableIPlogging" : {{ ETHERPAD_DISABLE_IP_LOGGING | lower }},

  /* Users for basic authentication. is_admin = true gives access to /admin.
     If you do not uncomment this, /admin will not be available! */

  "users": {
    {% for user in ETHERPAD_USERS %}
    "{{ user[0] }}": {
      "password": "{{ user[1] }}",
      "is_admin": {{ user[2] | lower }}
    },{% endfor %}
  },

  // restrict socket.io transport methods
  "socketTransportProtocols" : ["xhr-polling", "jsonp-polling", "htmlfile"],

  // Allow Load Testing tools to hit the Etherpad Instance.  Warning this will disable security on the instance.
  "loadTest": false,

  // Disable indentation on new line when previous line ends with some special chars (':', '[', '(', '{')
  "indentationOnNewLine": {{ ETHERPAD_INDENTATION_ON_NEW_LINE | lower }},

  /* The toolbar buttons configuration.
  "toolbar": {
    "left": [
      ["bold", "italic", "underline", "strikethrough"],
      ["orderedlist", "unorderedlist", "indent", "outdent"],
      ["undo", "redo"],
      ["clearauthorship"]
    ],
    "right": [
      ["importexport", "timeslider", "savedrevision"],
      ["settings", "embed"],
      ["showusers"]
    ],
    "timeslider": [
      ["timeslider_export", "timeslider_returnToPad"]
    ]
  },
  */

  /* The log level we are using, can be: DEBUG, INFO, WARN, ERROR */
  "loglevel": "{{ ETHERPAD_LOG_LEVEL }}",

  //Logging configuration. See log4js documentation for further information
  // https://github.com/nomiddlename/log4js-node
  // You can add as many appenders as you want here:
  "logconfig" : {
    "appenders": [
      { "type": "console"
      //, "category": "access"// only logs pad access
      } ]
  }
}
