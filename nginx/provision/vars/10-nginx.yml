---

defaults:
  ######################################
  ## General
  ######################################
  DOMAINNAMES:
    type: list
    delimiter: ','
    strip: true
    default: []

  ######################################
  ## Nginx
  ######################################
  # Basic config
  NGINX_MULTI_ACCEPT: false
  NGINX_WORKER_PROCESSES: 1
  NGINX_WORKER_OPENED_FILES: 20000
  NGINX_WORKER_CONNECTIONS: 1024
  NGINX_MAX_UPLOAD_FILESIZE: 64M
  # - NGINX_CLIENT_MAX_BODY_SIZE: defaults to NGINX_MAX_UPLOAD_FILESIZE
  NGINX_TYPES_HASH_MAX_SIZE: 2048
  NGINX_SERVER_NAMES_HASH_BUCKET_SIZE: 128
  NGINX_KEEPALIVE_TIMEOUT: 60s
  NGINX_KEEPALIVE_REQUESTS: 100
  NGINX_CLIENT_HEADER_TIMEOUT: 12s
  NGINX_CLIENT_BODY_TIMEOUT: 12s
  NGINX_CLIENT_HEADER_BUFFER_SIZE: 1k
  NGINX_LARGE_CLIENT_HEADER_BUFFERS: '4 8k'
  NGINX_CLIENT_BODY_BUFFER_SIZE: 128k
  NGINX_OUTPUT_BUFFERS: '4 32k'
  NGINX_POSTPONE_OUTPUT: 1460
  NGINX_SEND_TIMEOUT: 10s
  NGINX_OPEN_FILE_CACHE_MAX: 1000
  NGINX_OPEN_FILE_CACHE_INACTIVE: 20s
  NGINX_OPEN_FILE_CACHE_VALID: 30
  NGINX_OPEN_FILE_CACHE_MIN_USES: 5
  NGINX_HTTP_VERSION:
    type: choice
    default: "1.1"
    choices:
      - "1.1"
      - "2.0"

  # Proxy
  NGINX_BEHIND_PROXY: true
  NGINX_SET_REAL_IP_FROM:
    type: list
    delimiter: ','
    strip: true
    default: ['10.0.0.0/8', '172.16.0.0/12']
  NGINX_REAL_IP_HEADER: 'X-Forwarded-For'

  # TLS related
  NGINX_REWRITE_HTTPS: true
  NGINX_TLS_TERMINATED: true
  # following variables are defined in 'tasks/10-nginx.sh' and not needed here
  # NGINX_TLS_KEY: "/container/tls/key.pem"
  # NGINX_TLS_CERT: "/container/tls/cert.pem"
  # NGINX_TLS_DHPARAM: "/container/tls/dhparam.pem"
  # NGINX_TLS_DHPARAM_SIZE: 512

  # Modules
  NGINX_LOAD_NDK_HTTP_MODULE: false
  NGINX_LOAD_NGX_HTTP_CACHE_PURGE_MODULE: false
  NGINX_LOAD_NGX_HTTP_FANCYINDEX_MODULE: false
  NGINX_LOAD_NGX_HTTP_GEOIP_MODULE: false
  NGINX_LOAD_NGX_HTTP_HEADERS_MORE_FILTER_MODULE: false
  NGINX_LOAD_NGX_HTTP_IMAGE_FILTER_MODULE: false
  NGINX_LOAD_NGX_HTTP_LUA_MODULE: false
  NGINX_LOAD_NGX_HTTP_PERL_MODULE: false
  NGINX_LOAD_NGX_HTTP_REDIS2_MODULE: false
  NGINX_LOAD_NGX_HTTP_UPLOADPROGRESS_MODULE: false
  NGINX_LOAD_NGX_HTTP_UPSTREAM_FAIR_MODULE: false
  NGINX_LOAD_NGX_HTTP_XSLT_FILTER_MODULE: false
  NGINX_LOAD_NGX_MAIL_MODULE: false
  NGINX_LOAD_NGX_NCHAN_MODULE: false
  NGINX_LOAD_NGX_STREAM_MODULE: false
